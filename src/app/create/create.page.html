<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="home"></ion-back-button>
    </ion-buttons>
    <ion-title>Create New Patient</ion-title>
    <ion-buttons slot="primary">
      <ion-button (click)="onCreatePatient()" [disabled]="!form.valid || !form.get('image').value">
        <ion-icon name="person-add" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form">
    <ion-grid>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
            <app-image-picker
            [showPreview]="form.get('image').value"
            (imagePick)="onImagePicked($event)"
            ></app-image-picker>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Forename</ion-label>
            <ion-input
            type="text"
            autocorrect
            required
            formControlName="forename"
            ></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Surname</ion-label>
            <ion-input
            type="text"
            autocorrect
            required
            formControlName="surname"
            ></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">RFID Number</ion-label>
            <ion-input
            type="number"
            autocorrect
            formControlName="rfid"
            ></ion-input>
          </ion-item>
          <ion-item>
            <br>
            <ion-label position="floating">Address</ion-label>
            <br>
            <ion-input
            type="text"
            autocorrect
            placeholder="Address Line 1"
            formControlName="address"
            ></ion-input>
            <ion-input
            type="text"
            autocorrect
            placeholder="Address Line 2"
            formControlName="address"
            ></ion-input>
            <ion-input
            type="text"
            autocorrect
            placeholder="City"
            formControlName="address"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Date of Birth</ion-label>
            <ion-datetime
            min="1900-01-01"
            formControlName="dateOfBirth"
            ></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
          <ion-label position="floating">Medical History</ion-label>
          <ion-textarea
          rows="3"
          formControlName="medicalHistory"
          ></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
          <ion-label position="floating">Drug History</ion-label>
          <ion-textarea
          rows="3"
          formControlName="drugHistory"
          ></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
          <ion-label position="floating">Allergies</ion-label>
          <ion-textarea
          rows="3"
          formControlName="allergies"
          ></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
          <ion-label position="floating">Emergency Contact 1
        </ion-label>
          <ion-input
          type="number"
          autocomplete
          autocorrect
          formControlName="emergencyContact1"
          ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Emergency Contact 2</ion-label>
            <ion-input
            type="number"
            autocomplete
            autocorrect
            formControlName="emergencyContact2"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
          <ion-label position="floating">Emergency Contact 3</ion-label>
          <ion-input
          type="number"
          autocomplete
          autocorrect
          formControlName="emergencyContact3"
          ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
